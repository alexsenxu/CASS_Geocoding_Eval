if(!window.ucs){window.ucs={};}YUI.add("ucs-skip-to-search",function(A){A.namespace("ucs");A.ucs.SkipToSearch=function(B){this.skipLink=B;this.init();};A.ucs.SkipToSearch.prototype={init:function(){this.skipLink.on("click",this._focusSearch,this);this.skipLink.removeClass("yucs-activate");},_focusSearch:function(B){B.halt();A.one(".yucs-search input").focus();}};},"1.0",{requires:["node","event"]});YUI().use("node","ucs-skip-to-search",function(B){var A=new B.ucs.SkipToSearch(B.one(".yucs-skipto-search"));});YUI.add("ucs-menu-utils",function(A){A.namespace("ucs");var C="{separatorTop}"+'<li class="{isDisabled} {isActive} {menuClass}">'+'<a target="{target}" {actionData} href="{url}" {disabledAria}>'+"{icon}"+"{menuText}"+"</a></li>"+"{separatorBottom}",H="{separatorTop}"+'<li class="{isDisabled} {isActive} {menuClass}">'+'<a href="#" data-customevt="true" {actionData} {disabledAria} {checkedAria}>'+"{icon}"+"{menuText}"+"</a></li>"+"{separatorBottom}",I='<span class="separator" role="presentation"></span>',F="click",G="a",M="role",J="tabIndex",B="hide",D="iframe",K="ul",L="li",E="parentNode";A.ucs.MenuUtils=function(O,N){var P=N&&N.panelSelector||K;this.menu=O;this.panel=this.menu.one(P);this.init();};A.ucs.MenuUtils.prototype={init:function(){this.keyedup=false;this.menu.delegate(F,this._handleMenuClick,">a",this);this.menu.delegate(F,this._handleMenuItemClick,"li a",this);this.menu.on("keyup",this._handleKeyup,this);this.menu.on("keydown",this._handleKeydown,this);this.menu.removeClass("yucs-activate");this._initAria();},_initAria:function(){this.menu.one(G).set(M,"button");this.panel.all(G).set(M,"menuitemradio");this.panel.set(M,"menu");this.panel.all("div,ul,li").set(M,"presentation");this.panel.set(J,-1);this.focusmanager=this.panel.plug(A.Plugin.NodeFocusManager,{descendants:G,keys:{next:"down:40",previous:"down:38"},focusClass:{className:"li-selected",fn:function(N){return N.get(E);}},circular:true});},_destructAria:function(){this.panel.unplug(A.Plugin.NodeFocusManager);this.panel.one(G).set(J,0);},_handleMenuClick:function(N){N.halt();if(this.panel.hasClass(B)){this._accessShowMenu(N);}else{this._hideMenu();}},_handleKeyup:function(N){if(27===N.keyCode){this.menu.one(G).focus();this._hideMenu();}else{if(40===N.keyCode&&!this.keyedup){this.panel.one(G).focus();this.keyedup=true;}}},_handleKeydown:function(N){N.stopPropagation();if(40===N.keyCode){N.preventDefault();}},_handleDocumentClick:function(N){if(this.panel.contains(N.target)||N.target._node===this.panel._node||this.panel.hasClass(B)||N.target===this.menu.one(">a")||N.target.get("parentNode")===this.menu.one(">a")){return;}this._hideMenu();},_accessShowMenu:function(P){var N=this;this._hideAllMenus();this._showMenu(P);this.panel.focus();A.Node.DOM_EVENTS.touchend=true;this.documentClickHandle=A.on(F,this._handleDocumentClick,document.body,this);this.documentMouseDownHandle=A.on("mousedown",this._handleDocumentClick,document.body,this);this.documentTouchEndHandle=A.on("touchend",this._handleDocumentClick,document.body,this);this.documentWheelHandle=A.on("mousewheel",this._hideAllMenus,document.body,this);var O=A.one(A.config.win);this.documentScrollHandle=O.on("scroll",this._hideAllMenus,document.body,this);},_showMenu:function(O){this.panel.removeClass(B);this._addIframeShim();var N=this.menu.one(D);if(N){N.removeClass(B);}},_position:function(){var N=this.menu.get("region");if(!this.panel.hasClass("yucs-menu-right")&&!this.panel.hasClass("yucs-menu-left")){this.panel.setStyle("left",N[0]);}this.panel.setStyle("top",N[1]+13);},_hideMenu:function(){this.panel.addClass(B);var N=this.menu.one(D);if(N){N.addClass(B);}if(this.documentClickHandle){this.documentClickHandle.detach();}if(this.documentMouseDownHandle){this.documentMouseDownHandle.detach();}if(this.documentTouchEndHandle){this.documentTouchEndHandle.detach();}this.keyedup=false;},_hideAllMenus:function(){var P=A.all(".yucs-menu ul"),N=A.all("yucs-menu iframe"),O=A.all(".yucs-notifications ul.ynotif-yahoo-panel");v2Notifications=A.all(".yucs-notifications div.yucs-notif-panel");P.addClass(B);N.addClass(B);O.addClass(B);v2Notifications.addClass(B);},_addIframeShim:function(){var N=A.all("select"),P=(A.UA.ie<=6),O;if(!P||(!N.size()>0)){return;}O=this.menu.one(D);if(!O){O=document.createElement(D);O=this.panel.get(E).insertBefore(O,this.panel);}O.className="yucs-shim";O.setStyle("position","absolute");O.setStyle("width",this.panel.getComputedStyle("width"));O.setStyle("height",this.panel.getComputedStyle("height"));O.setStyle("top",this.panel.getY()+"px");O.setStyle("border","0px none");},_addMenuGroups:function(Q,V,U){var S=this.menu.one(K),N="",O=(S.get("children")._nodes.length)?true:false;for(var P=0,R=Q.length;P<R;P++){var T=Q[P].length;if(V==="bottom"){Q[P][0].separatorTop=true;}else{if(P<(R-1)||O){Q[P][T-1].separatorBottom=true;}}N+=this._addMenuGroup(Q[P],U);}if(V==="bottom"){S.append(N);}else{S.prepend(N);}},_addMenuGroup:function(O,Q){var R="";for(var P=0,N=O.length;P<N;P++){if(Q){O[P].isDebugItem=true;O[P].menuClass="debug-item";}else{O[P].isDebugItem=false;O[P].menuClass="minty-item";}R+=this._addMenuItem(O[P]);}return R;},_addMenuItem:function(O){var N="";if(O.isActive){O.checkedAria='aria-checked="true"';}else{O.checkedAria="";}if(O.isDisabled){O.disabledAria='aria-disabled="true"';}else{O.disabledAria="";}switch(O.actionType){case"link":N=A.substitute(C,O,this._processTemplateValue);break;case"customEvent":N=A.substitute(H,O,this._processTemplateValue);break;default:break;}if(N){if(O.isDebugItem){N=N.replace(/separator/,"separator debug-item");}else{N=N.replace(/separator/,"separator minty-item");}}return N;},_clearMenuItem:function(N){this.menu.one(K).all("."+N).each(function(O){O.remove(true);});},_processTemplateValue:function(N,O,P){A.log("key = "+N+" value = "+O+" meta_data = "+P);var Q="";switch(N){case"icon":if(O!==undefined){if(O==="available"){Q='<img src="http://l.yimg.com/a/lib/ush/icon.gif" class="yucs-opi available"/>';}else{if(O==="offline"){Q='<img src="http://l.yimg.com/a/lib/ush/icon.gif" class="yucs-opi offline"/>';}else{if(O==="invisible"){Q='<img src="http://l.yimg.com/a/lib/ush/icon.gif" class="yucs-opi invisible"/>';}else{if(O==="busy"){Q='<img src="http://l.yimg.com/a/lib/ush/icon.gif" class="yucs-opi busy"/>';}else{if(O==="idle"){Q='<img src="http://l.yimg.com/a/lib/ush/icon.gif" class="yucs-opi idle"/>';}else{Q='<img src="'+O+'" />';}}}}}}break;case"separatorTop":if(O){Q=I;}break;case"separatorBottom":if(O){Q=I;}break;case"actionData":if(O){Q='data-mad="'+O+'"';
}break;case"isDisabled":if(O){Q="disabled";}break;case"isActive":if(O){Q="sp active";}break;case"checkedAria":Q=O;break;default:Q=O;break;}return Q;},_resetItemStatus:function(Q){var P=Q.ancestor(K).all(L),O=Q.ancestor(K).all("li.disabled");P.removeClass("sp active");O.removeClass("disabled");if(Q.getAttribute("data-dis")){var N=Q.ancestor(L);N.addClass("disabled");}if(Q.getAttribute("data-hs")){var N=Q.ancestor(L);N.addClass("sp active");}},_handleMenuItemClick:function(O){var N=O.target;}};},"1.0",{requires:["node","event","event-mouseenter","substitute","node-focusmanager"]});YUI().use("node","ucs-menu-utils",function(B){var A=B.one("#yUnivHead").all("li.yucs-menu.yucs-activate");A.each(function(D){var C=new B.ucs.MenuUtils(D);});});YUI.add("ucs-usermenu",function(C){var A="ucs:userMenuShow";var B="ucs:userMenuItemClick";C.ucs.UserMenu=function(D){C.ucs.UserMenu.superclass.constructor.apply(this,arguments);this._initCustomEvents();};C.extend(C.ucs.UserMenu,C.ucs.MenuUtils,{_initCustomEvents:function(){this.publish(A,{broadcast:2,emitFacade:true});this.publish(B,{broadcast:2,emitFacade:true});C.Global.on("ucs:userMenuItems",this._handleUserMenuItems,this);},_showMenu:function(D){C.ucs.UserMenu.superclass._showMenu.apply(this,arguments);this.fire(A);},_handleUserMenuItems:function(H){if(!H.menuGroups||!H.menuGroups.length){return;}var F=H.menuGroups;F.reverse();if(H.reset){this._clearMenuItem("minty-item");}for(var G=0,E=F.length;G<E;G++){var D=F[G].length;F[G][D-1].separator=true;this._addMenuGroup(F[G]);}this._destructAria();this._initAria();},_handleMenuItemClick:function(I){C.ucs.UserMenu.superclass._handleMenuItemClick.apply(this,arguments);var H,F,D,E;H=I.target;H=H.ancestor("a",true);F=H.getAttribute("data-mad");D=H.getAttribute("data-customevt");E=H.ancestor("li").hasClass("disabled");if(D){I.preventDefault();}if(!E){var G={actionData:F};this.fire(B,G);}this._hideMenu();}});C.augment(C.ucs.UserMenu,C.EventTarget);},"1.0",{requires:["oop","node","event-custom","ucs-menu-utils"]});YUI().use("node","ucs-usermenu",function(B){var A=B.all(".yucs-um-activate");A.each(function(D){var C=new B.ucs.UserMenu(D);});});YUI.add("ucs-helpmenu",function(E){var B="ucs:helpMenuShow";var A="ucs:helpDebugMenuShow";var D="ucs:helpMenuItemClick";var C="ucs:helpDebugMenuItemClick";E.ucs.HelpMenu=function(F){E.ucs.HelpMenu.superclass.constructor.apply(this,arguments);this._initCustomEvents();};E.extend(E.ucs.HelpMenu,E.ucs.MenuUtils,{_initCustomEvents:function(){this.publish(B,{broadcast:2,emitFacade:true});this.publish(A,{broadcast:2,emitFacade:true});this.publish(D,{broadcast:2,emitFacade:true});this.publish(C,{broadcast:2,emitFacade:true});E.Global.on("ucs:helpMenuItems",this._handleHelpMenuItems,this);E.Global.on("ucs:helpDebugMenuItems",this._handleHelpDebugMenuItems,this);},_showMenu:function(F){if((F.ctrlKey||F.metaKey)&&F.shiftKey){this.fire(A);this._showDebugMenuItems();}else{this.fire(B);this._showMenuItems();}E.ucs.HelpMenu.superclass._showMenu.apply(this,arguments);},_showDebugMenuItems:function(){this.menu.all("li").addClass("hide");this.menu.all("span.separator").setStyle("display","none");this.menu.all("li.debug-item").removeClass("hide");this.menu.all("span.debug-item").setStyle("display","block");},_showMenuItems:function(){this.menu.all("li").removeClass("hide");this.menu.all("span.separator").setStyle("display","block");this.menu.all("li.debug-item").addClass("hide");this.menu.all("span.debug-item").setStyle("display","none");},_handleHelpMenuItems:function(J){if(!J.menuGroups||!J.menuGroups.length){return;}var H=J.menuGroups;H.reverse();if(J.reset){this._clearMenuItem("minty-item");}for(var I=0,G=H.length;I<G;I++){if(I>0){var F=H[I].length;H[I][F-1].separator=true;}this._addMenuGroup(H[I]);}this._destructAria();this._initAria();},_handleHelpDebugMenuItems:function(J){if(!J.menuGroups||!J.menuGroups.length){return;}var H=J.menuGroups;H.reverse();this._clearMenuItem("debug-item");for(var I=0,G=H.length;I<G;I++){if(I>0){var F=H[I].length;H[I][F-1].separator=true;}this._addMenuGroup(H[I],true);}},_handleMenuItemClick:function(K){E.ucs.HelpMenu.superclass._handleMenuItemClick.apply(this,arguments);var J,G,F;J=K.target;J=J.ancestor("a",true);G=J.getAttribute("data-mad");F=J.getAttribute("data-customevt");dis=J.ancestor("li").hasClass("disabled");if(dis){K.halt();this._hideMenu();return;}if(F){K.preventDefault();}if(!dis){var I={actionData:G};var H=J.get("parentNode");if(H.hasClass("debug-item")){this.fire(C,I);}else{this.fire(D,I);}}this._hideMenu();}});E.augment(E.ucs.HelpMenu,E.EventTarget);},"1.0",{requires:["oop","node","event-custom","ucs-menu-utils"]});YUI().use("node","ucs-helpmenu",function(B){var A=B.all(".yucs-hm-activate");A.each(function(D){var C=new B.ucs.HelpMenu(D);});});YUI.add("ucs-utilitymenu",function(C){var B="ucs:utilityMenuShow";var A="ucs:utilityMenuItemClick";C.ucs.UtilityMenu=function(D){C.ucs.UtilityMenu.superclass.constructor.apply(this,arguments);this._initCustomEvents();};C.extend(C.ucs.UtilityMenu,C.ucs.MenuUtils,{_initCustomEvents:function(){this.publish(B,{broadcast:2,emitFacade:true});this.publish(A,{broadcast:2,emitFacade:true});C.Global.on("ucs:utilityMenuItems",this._handleUtilityMenuItems,this);},_showMenu:function(D){C.ucs.UtilityMenu.superclass._showMenu.apply(this,arguments);this.fire(B);},_handleUtilityMenuItems:function(H){if(!H.menuGroups||!H.menuGroups.length){return;}var F=H.menuGroups;F.reverse();if(H.reset){this._clearMenuItem("minty-item");}for(var G=0,E=F.length;G<E;G++){if(G>0){var D=F[G].length;F[G][D-1].separator=true;}this._addMenuGroup(F[G]);}this._destructAria();this._initAria();},_handleMenuItemClick:function(I){C.ucs.UtilityMenu.superclass._handleMenuItemClick.apply(this,arguments);var H,F,D,E;H=I.target;H=H.ancestor("a",true);F=H.getAttribute("data-mad");D=H.getAttribute("data-customevt");E=H.ancestor("li").hasClass("disabled");if(D){I.preventDefault();}if(!E){var G={actionData:F};this.fire(A,G);}this._hideMenu();}});C.augment(C.ucs.UtilityMenu,C.EventTarget);},"1.0",{requires:["oop","node","event-custom","ucs-menu-utils"]});YUI().use("node","ucs-utilitymenu",function(B){var A=B.all(".yucs-utm-activate");A.each(function(D){var C=new B.ucs.UtilityMenu(D);});});YUI().use("node",function(C){ucsLogoDebug=function(D){D.on("click",this._handleClick,this);this.publish("ucs:logoDebug",{broadcast:2,emitFacade:true});};ucsLogoDebug.prototype={_handleClick:function(D){if(D.altKey){D.halt();this.fire("ucs:logoDebug");}}};C.augment(ucsLogoDebug,C.EventTarget);var B=C.one("#yuhead-bd>.yuhead-logo>h2>a");if(B){var A=new ucsLogoDebug(B);}});if(!window.ucs){window.ucs={};}YUI.add("ucs-search",function(E){if(!ucs.Search){var C="value",D="click",B="submit",F="innerHTML",A="target";ucs.Search=function(G){this.form=G;this.loadedAssist=false;this.init();};ucs.Search.prototype={isWebSearch:false,init:function(){var G=this.form.all("button");if(G.size()===2){this.is2Button=true;}else{this.is2Button=false;}this.input=this.form.one("input");this.vertSearchBtn=this.form.one(".yucs-sprop-btn");this.webSearchBtn=this.form.one(".yucs-sweb-btn");this.searchHint=this.input.getAttribute("data-sh");if((E.one("#yUnivHead")&&E.one("#yUnivHead").getAttribute("data-linktarget"))){this.linkTarget=E.one("#yUnivHead").getAttribute("data-linktarget");}else{this.linkTarget="_top";}this._setFormTarget();this._initEventListeners();this.form.removeClass("yucs-activate");if(this.input.get(C)===""){this.input.set(C,this.input.getAttribute("data-sh"));}},_initEventListeners:function(){if(this.vertSearchBtn&&E.UA.ie){this.webSearchBtn.on(D,this._renderSearchActionIe,this);this.form.on(B,this._handleVertSearch,this);}else{this.form.on(B,this._handleSubmit,this);}this.input.on("focus",this._handleInputFocus,this);this.input.on("blur",this._handleInputBlur,this);if(this.vertSearchBtn){this.vertSearchBtn.on(D,this._handleVertSearch,this);}},_setFormTarget:function(){if(this.linkTarget==="_blank"||this.form.hasClass("yucs-search-fh")){this.form.setAttribute(A,"searchWin");}else{this.form.setAttribute(A,this.linkTarget);}},_renderSearchActionIe:function(){this.isWebSearch=true;var G=this;E.detach(B,this._fireVertSearchEvent,this.form);this._handleSubmit();var H=this.form.getAttribute("action")+"?fr="+this.form.all("#fr").getAttribute(C)+"&p="+this.input.getAttribute(C);if(this.linkTarget==="_blank"||this.form.hasClass("yucs-search-fh")||this.is2Button){window.open(H,"searchWin");}else{window.location.href=H;}},_initAssist:function(){var G=this.input.getAttribute("data-satype");if(6===E.UA.ie||7===E.UA.ie){G="";}switch(G){case"mini":this._initMiniAssist(this.input._node);break;case"rich":this._initRichAssist(this.input._node);break;default:break;}},_buildAssistConfig:function(G){var H={searchbox:G,clid:"uh-yui3",align:true,shim:1};if(G.getAttribute("data-pubid")){H.pubid=G.getAttribute("data-pubid");}if(G.getAttribute("data-gosurl")){H.url=G.getAttribute("data-gosurl");}return H;},_initMiniAssist:function(I){var H=this,G={miniassist:{fullpath:"http://l.yimg.com/a/lib/s7/miniassist-yui3-201009101433.js",requires:["base","get","node","event-focus","plugin","array-extras"]},"miniassist-skin":{fullpath:"http://l.yimg.com/a/lib/s7/miniassist-yui3-201009101433.css",type:"css"},"tray-align-plugin":{fullpath:"http://a.l.yimg.com/a/lib/s7/tray-align-plugin-201009101433.js",requires:["miniassist"]},"tray-shim-plugin":{fullpath:"http://l.yimg.com/a/lib/s7/tray-shim-plugin-201009101433.js",requires:["miniassist"]}};YUI({modules:G}).use("miniassist","miniassist-skin","tray-align-plugin","tray-shim-plugin",function(L){var J=new L.Node(I),K=H._buildAssistConfig(J);H.sa=new L.Search.MiniAssist(K);});},_initRichAssist:function(I){var H=this,G={richassist:{fullpath:"http://a.l.yimg.com/a/lib/s7/richassist-yui3-201009101433.js",requires:["base","get","node","event-focus","plugin"]},"tray-align-plugin":{fullpath:"http://a.l.yimg.com/a/lib/s7/tray-align-plugin-201009101433.js",requires:["richassist"]},"tray-shim-plugin":{fullpath:"http://l.yimg.com/a/lib/s7/tray-shim-plugin-201009101433.js",requires:["richassist"]}};YUI({modules:G}).use("richassist","tray-align-plugin","tray-shim-plugin",function(L){var J=new L.Node(I),K=H._buildAssistConfig(J);H.sa=new L.Search.RichAssist(K);});},_handleSubmit:function(H){var G=this.input.get(C);G=E.Lang.trim(G);if(G===this.searchHint){this.input.set(C,"");}},_handleInputFocus:function(I){var H=this.input,G=H.get(C);G=E.Lang.trim(G);if(G===this.searchHint){H.set(C,"");}H.removeClass("yucs-search-hint-color");if(!this.loadedAssist){this.loadedAssist=true;this._initAssist();}},_handleInputBlur:function(I){var H=this.input,G=H.get(C);G=E.Lang.trim(G);if(G===""){H.set(C,this.searchHint);H.addClass("yucs-search-hint-color");}},_handleVertSearch:function(I){if(this.isWebSearch){this.isWebSearch=false;return;}I.preventDefault();this._handleSubmit();var H=I.target.getAttribute("data-vsearch"),G=I.target.getAttribute("data-ylt");if(H){H+="?fr="+this.form.all("#fr").get(C)+"&p="+this.input.get(C);if(G){if(G.charAt(0)==="/"){G=G.substring(1);}H+=G;}if(this.linkTarget==="_blank"||this.form.hasClass("yucs-search-fh")){window.open(H,"searchWin");}else{window.location.href=H;}}else{this._fireVertSearchEvent(I);}},_fireVertSearchEvent:function(H){var G=this.input.get(C);this.publish("ucs:verticalSearchAction",{broadcast:2,emitFacade:true});this.fire("ucs:verticalSearchAction",{"query":G});},_fireInterfaceReady:function(){this.publish("ucs:uhSearchInterfaceReady",{broadcast:2,emitFacade:true});this.fire("ucs:uhSearchInterfaceReady");},_getSearchInput:function(){return this.input;},_resetSearchInput:function(){this.input.set(C,this.searchHint);this.input.addClass("yucs-search-hint-color");},_setSearchInput:function(G){this.input.set(C,G);},_getVertSearchBtnContent:function(){return this.vertSearchBtn.get(F);},_setVertSearchBtnContent:function(G){this.vertSearchBtn.set(F,(G["text"])?G["text"]:G);}};E.augment(ucs.Search,E.EventTarget);}},"1.0",{requires:["node","event","event-custom"]});YUI().use("node","ucs-search",function(B){var A=B.all("form.yucs-search.yucs-activate");A.each(function(F,C,E){if(F.ancestor("#yuhead-search")){if(F.ancestor("#yucs-fh")){if(F.all("button").size()===2){B.one("#yucs-fh").addClass("yucs-fh-twobutton");}}ucs.UhSearchInterface=new ucs.Search(F);ucs.UhSearchInterface.getInput=function(){return ucs.UhSearchInterface._getSearchInput();};ucs.UhSearchInterface.setInput=function(G){ucs.UhSearchInterface._setSearchInput(G);};ucs.UhSearchInterface.resetInput=function(){ucs.UhSearchInterface._resetSearchInput();};ucs.UhSearchInterface.getVertSearchBtnText=function(){return ucs.UhSearchInterface._getVertSearchBtnContent();
};ucs.UhSearchInterface.setVertSearchBtnText=function(G){ucs.UhSearchInterface._setVertSearchBtnContent(G);};ucs.UhSearchInterface._fireInterfaceReady();}else{var D=new ucs.Search(F);}});});YUI.add("gallery-intl-bidi",function(B){B.mix(B.namespace("Intl"),{_rtlChars:"[\uD83A\uD83B][\uDC00-\uDFFF]|[\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05FF\u0604\u0605\u0608\u060B\u060D\u061B-\u064A\u065F\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070E\u0710\u0712-\u072F\u074B-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u082E-\u08FF\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD40-\uFDCF\uFDF0-\uFDFC\uFDFE\uFDFF\uFE70-\uFEFE]|\uD803[\uDC00-\uDE5F\uDE7F-\uDFFF]|\uD802[\uDC00-\uDD1E\uDD20-\uDE00\uDE04\uDE07-\uDE0B\uDE10-\uDE37\uDE3B-\uDE3E\uDE40-\uDF38\uDF40-\uDFFF]",_neutralChars:"[\uDB40-\uDB43][\uDC00-\uDFFF]|\uD802[\uDD1F\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDF39-\uDF3F]|\uD804[\uDC80\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA]|\uD803[\uDE60-\uDE7E]|\uD800[\uDD01\uDD40-\uDD8A\uDD90-\uDD9B\uDDFD]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDD00-\uDD0A]|[\u0000-\u0040\u005B-\u0060\u007B-\u00A9\u00AB-\u00B4\u00B6-\u00B9\u00BB-\u00BF\u00D7\u00F7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0600-\u0603\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065E\u0660-\u066C\u0670\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0900-\u0902\u093C\u0941-\u0948\u094D\u0951-\u0955\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0CF1\u0CF2\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135F\u1390-\u1399\u1400\u1680\u169B\u169C\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180E\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1DC0-\u1DE6\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200D\u2010-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20B8\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189\u2190-\u2335\u237B-\u2394\u2396-\u23E8\u2400-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u26CD\u26CF-\u26E1\u26E3\u26E8-\u26FF\u2701-\u2704\u2706-\u2709\u270C-\u2727\u2729-\u274B\u274D\u274F-\u2752\u2756-\u275E\u2761-\u2794\u2798-\u27AF\u27B1-\u27BE\u27C0-\u27CA\u27CC\u27D0-\u27FF\u2900-\u2B4C\u2B50-\u2B59\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2DE0-\u2E31\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA673\uA67C-\uA67F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82B\uA838\uA839\uA874-\uA877\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE5\uABE8\uABED\uFB1E\uFB29\uFD3E\uFD3F\uFDD0-\uFDEF\uFDFD\uFE00-\uFE19\uFE20-\uFE26\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF0-\uFFFF]|\uD835[\uDEDB\uDF15\uDF4F\uDF89\uDFC3\uDFCE-\uDFFF]|\uD834[\uDD67-\uDD69\uDD73-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE00-\uDE45\uDF00-\uDF56]",_initializeBidiPatterns:function(){this._rtlPattern=new RegExp("^(?:"+this._neutralChars+")*(?:"+this._rtlChars+")");this._neturalPattern=new RegExp("^(?:"+this._neutralChars+")*$");},setBidiChars:function(D,A){if(D!==undefined){this._rtlChars=D;}if(A!==undefined){this._neutralChars=A;}this._initializeBidiPatterns();},detectDirection:function(A,D){if(this._rtlPattern.test(A)){return"rtl";}else{if(D==="ltr"){return"ltr";}else{if(this._neturalPattern.test(A)){if(D==="rtl"){return"rtl";}else{return"";}}else{return"ltr";}}}}});B.Intl._initializeBidiPatterns();B.mix(B.namespace("Intl"),{bidiDirection:B.Intl.detectDirection});},"gallery-2010.09.22-20-15");YUI.add("gallery-node-setdir",function(D){var C={ltr:"rtl",rtl:"ltr"};D.Node.addMethod("setDirection",function(B,A){var G,H;if(A==="ltr"||A==="rtl"){G=D.one(B);H=G.getStyle("direction");G.setAttribute("dir",A);G.setStyle("direction",A);G.removeClass(D.ClassNameManager.getClassName(C[A]));G.addClass(D.ClassNameManager.getClassName(A));if(A!==H){D.fire("directionChange",{target:G,dir:A});}}return G;});},"gallery-2010.09.22-20-15",{requires:["classnamemanager","node-base","node-style"]});YUI.add("gallery-bidi-textinput",function(D){function C(){C.superclass.constructor.apply(this,arguments);}C.NS="bidiTextEntry";C.NAME="bidiTextEntry";D.extend(C,D.Plugin.Base,{initializer:function(){this.afterHostEvent("valueChange",function(B){var F=this.get("host"),A=D.Intl.detectDirection(B.newVal);F.setDirection(A);});}});D.namespace("Plugin");D.Plugin.BidiTextEntry=C;D.Plugin.BidiTextInput=C;
},"gallery-2010.09.22-20-15",{requires:["plugin","event-valuechange","gallery-intl-bidi","gallery-node-setdir"]});YUI().use("node","gallery-bidi-textinput","node-pluginhost",function(A){A.all("form.yucs-search input[type=text]").each(function(B){B.plug(A.Plugin.BidiTextEntry);});});